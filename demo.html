<!doctype html>
<html lang="en">
  <head>
    <title>XQuest - an HTML5 Space Shooter that is free and open-source!</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link rel="stylesheet" href="index.css" />
    <style></style>
  </head>
  <body class="page-loading">
    <h1>XQuest Demo Page</h1>

    <section class="hide-after-load">Loading game scripts...</section>

    <section class="demos flex-wrap">
      <canvas width="620" height="200" data-component="Logo"></canvas>
      <canvas width="200" height="200" data-component="Player"></canvas>
      <canvas width="200" height="200" data-component="PowerCrystal"></canvas>
      <canvas width="200" height="200" data-component="BombCrystal"></canvas>
      <canvas width="200" height="200" data-component="Slug"></canvas>
      <canvas width="200" height="200" data-component="Locust"></canvas>
      <canvas width="200" height="200" data-component="Mantis"></canvas>
    </section>

    <section class="all-the-scripts">
      <script type="importmap">
        {
          "imports": {
            "@/": "./"
          }
        }
      </script>

      <script src="lib/lodash.2.2.1.js"></script>
      <script src="lib/easeljs-0.6.1.min.js"></script>
      <script src="lib/smoothsort.js"></script>
    </section>

    <section class="startup-script">
      <script type="module">
        import { XQuestHost } from "@/XQuestHost/XQuestHost.js";

        document.body.classList.remove("page-loading");
        document.body.classList.add("page-loaded");

        const canvases = document.querySelectorAll("canvas");
        for (const canvas of canvases) {
          const component = canvas.dataset.component;
          const xquest = new XQuestHost({
            canvas,
            scene: {
              name: "DemoScene",
              component,
            },
          });
          canvas.xquest = xquest;
        }
      </script>
    </section>
  </body>
</html>
