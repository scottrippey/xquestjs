<div class="fill-screen danger-zone"
     ng-controller="XQuestUIController as ui"
     ng-mousemove="ui.onMouseMove($event)"
     ng-mousedown="ui.primaryWeapon(); $event.preventDefault();"
     ng-mouseleave="ui.togglePause(true)"
     ng-class="{ 'mouse-engaged': !!ui.engaged }"

     common-keymap="{ fire: 'space', pause: 'enter escape' }"
     common-keymap-document

     common-keymap-fire-down="ui.primaryWeapon()"
     common-keymap-pause-down="ui.togglePause()"

     common-keymap-up-repeat="ui.accelerate({ x: 0, y: -5 })"
     common-keymap-down-repeat="ui.accelerate({ x: 0, y: 5 })"
     common-keymap-left-repeat="ui.accelerate({ x: -5, y: 0 })"
     common-keymap-right-repeat="ui.accelerate({ x: 5, y: 0 })"
	>


	<div class="canvas-container"
	     ng-mouseenter="ui.engage()"
	     ng-mouseleave="ui.disengage()">

		<canvas id="XQuestCanvas" width="800" height="450"
		        common-init-canvas="ui.registerCanvas(canvas)"
		        common-fill-parent
				>
			Uh oh, your browser cannot play this game.
			To play the most awesome game ever, please upgrade
			to a better browser, such as Chrome, Safari, or FireFox.
			In other words, Internet Explorer sucks.
		</canvas>

	</div>

	<div class="hud-container" ng-show="!!ui.hud">
		<div class="hud-contents" ng-include="ui.hud">
			HUD will go here
		</div>
	</div>
</div>
